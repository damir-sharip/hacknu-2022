(window.webpackJsonp=window.webpackJsonp||[]).push([[9,7,8],{315:function(t,e,r){var content=r(331);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(89).default)("aff46326",content,!0,{sourceMap:!1})},327:function(t,e,r){"use strict";r.r(e);r(5),r(4),r(2),r(1),r(6),r(3),r(7);var n=r(0),o=r(96);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var l={name:"Spectator",data:function(){return{spectator:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)({spectators:"spectator/spectators"})),methods:{handleChange:function(t){this.spectator=t,this.$store.commit("spectator/SET_SPECTATOR",t)}},mounted:function(){var t=this;this.$root.$on("resetSpectator",(function(){return t.spectator=null}))}},f=l,h=r(68),component=Object(h.a)(f,(function(){var t=this;return(0,t._self._c)("Multiselect",{attrs:{value:t.spectator,options:t.spectators,"allow-empty":!0,taggable:!1},on:{input:t.handleChange}})}),[],!1,null,"b43aa842",null);e.default=component.exports},328:function(t,e,r){"use strict";r.r(e);r(1),r(3),r(15),r(5),r(17),r(2);var n=r(316),o={methods:{handleFile:function(t){var e=this,r=t.target.files;if(r.length){var o=r[0],c=new FileReader;c.onload=function(t){var data=t.target.result,r=n.a(data,{type:"binary"}),o={};r.SheetNames.forEach((function(t){var e=r.Sheets[t],c=n.b.sheet_to_json(e).map((function(t){var e={};return Object.keys(t).forEach((function(r){var n=r.split(" ").map((function(t){return t.toLowerCase()})).join("_");e[n]=t[r]})),e})).map((function(t){var e={};return Object.keys(t).forEach((function(r){e[r]="null"===t[r]?null:t[r],"identifier"===r&&null===e[r]&&(e[r]="UNKNOWN")})),e})).filter((function(t){return t.latitude&&t.longitude}));o[t]=c})),e.$store.commit("routes/SET_ROUTES",o)},c.readAsBinaryString(o)}}}},c=r(68),component=Object(c.a)(o,(function(){var t=this._self._c;return t("div",[t("b-form-file",{attrs:{placeholder:"Choose file","drop-placeholder":"Drop file here..."},on:{change:this.handleFile}})],1)}),[],!1,null,null,null);e.default=component.exports},329:function(t,e,r){t.exports=r.p+"img/logo.88d5d1a.svg"},330:function(t,e,r){"use strict";r(315)},331:function(t,e,r){var n=r(88)(!1);n.push([t.i,".vue-slider-mark-label{display:none!important}",""]),t.exports=n},381:function(t,e,r){"use strict";r.r(e);r(15);var n=[function(){var t=this._self._c;return t("div",{staticClass:"custom-logo mb-4"},[t("img",{attrs:{src:r(329)}})])}],o=(r(4),r(6),r(7),r(0)),c=(r(5),r(38),r(1),r(3),r(2),r(96));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"IndexPage",data:function(){return{trace:"dev11",show:!1,showMap:!0,duration:18e3,isPlay:!1,tracePoints:{},sliderData:{},tracePoint:0,traceDurations:{}}},computed:f(f({},Object(c.b)({routes:"routes/routes",spectators:"spectator/spectators",identifiers:"spectator/identifiers"})),{},{traces:function(){return Object.keys(this.routes||{})}}),watch:{trace:function(){var t=this;this.$store.commit("spectator/SET_SPECTATOR",null),this.$root.$emit("resetSpectator"),this.showMap=!1,setTimeout((function(){return t.showMap=!0}),200)},spectators:function(){var t=this;this.tracePoints={},this.traceDurations={},this.spectators.forEach((function(e){t.tracePoints[e]=0,t.traceDurations[e]=0}))},identifiers:function(){for(var t in this.sliderData={},this.identifiers){var e=this.identifiers[t].map((function(t){return null==t?void 0:t.timestamp}));this.sliderData[t]=e.filter((function(t){return!!t}))}}},methods:{togglePlay:function(){this.isPlay=!this.isPlay},handleChange:function(t,e){this.tracePoints[e]=t;var r=this.sliderData[e].length;this.traceDurations[e]=t*this.duration/r}},mounted:function(){var t=this;setTimeout((function(){return t.show=!0}),100)}},d=(r(330),r(68)),component=Object(d.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"map__container d-flex w-100"},[e("div",{staticClass:"navbar"},[t._m(0),t._v(" "),e("h2",{staticClass:"navbar__title"},[t._v("All Traces")]),t._v(" "),e("Multiselect",{staticClass:"mb-4",attrs:{options:t.traces,"allow-empty":!1,taggable:!1},model:{value:t.trace,callback:function(e){t.trace=e},expression:"trace"}}),t._v(" "),e("h2",{staticClass:"navbar__title"},[t._v("History")]),t._v(" "),e("Spectator",{staticClass:"mb-3"}),t._v(" "),t._l(t.spectators,(function(r){return e("div",{key:r,staticClass:"w-100"},[t._v("\n            "+t._s(r)+"\n            "),t.show?e("vue-slider",{staticClass:"custom-vue-slider w-100",attrs:{value:t.tracePoints[r],data:t.sliderData[r].map((function(t,e){return e+1})),marks:!0},on:{change:function(e){return t.handleChange(e,r)}}}):t._e()],1)})),t._v(" "),e("b-button",{staticClass:"custom-button",attrs:{variant:"light"},on:{click:t.togglePlay}},[t._v(t._s(t.isPlay?"Stop":"Play"))]),t._v(" "),e("Xlsx",{staticClass:"mt-2"})],2),t._v(" "),e("div",{staticClass:"map"},[t.showMap?e("Map",{attrs:{trace:t.trace,duration:t.duration,traceDurations:t.traceDurations,isPlay:t.isPlay}}):t._e()],1)])}),n,!1,null,null,null);e.default=component.exports;installComponents(component,{Spectator:r(327).default,Xlsx:r(328).default,Map:r(378).default})}}]);